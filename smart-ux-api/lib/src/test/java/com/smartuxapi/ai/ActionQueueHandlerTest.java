package com.smartuxapi.ai;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.DisplayName;
import org.json.simple.parser.ParseException;
import static org.junit.jupiter.api.Assertions.*;

@DisplayName("ActionQueueHandler 테스트")
public class ActionQueueHandlerTest {

    private ActionQueueHandler aqh = new ActionQueueHandler();
    
    @Test
    @DisplayName("현재 화면 정보 저장 테스트")
    public void setCurrentViewInfoTest() throws ParseException {

        String uiInfo = "{\n  \"timestamp\": \"2025-09-22T13:11:03.844Z\",\n  \"summary\": {\n    \"exploration\": {\n      \"totalFrames\": 10,\n      \"frameTypes\": {\n        \"MainFrame\": 1,\n        \"VFrameSet\": 2,\n        \"ChildFrame\": 5,\n        \"HFrameSet\": 1,\n        \"FrameSet\": 1\n      }\n    },\n    \"analysis\": {\n      \"totalFrames\": 10,\n      \"totalComponents\": 7,\n      \"frameTypes\": {\n        \"ChildFrame\": 5,\n        \"FrameSet\": 1,\n        \"VFrameSet\": 2,\n        \"HFrameSet\": 1,\n        \"MainFrame\": 1\n      },\n      \"componentTypes\": {\n        \"Unknown\": 7\n      }\n    }\n  },\n  \"exploration\": {\n    \"mainFrame\": {\n      \"id\": \"mainframe\",\n      \"type\": \"MainFrame\",\n      \"path\": \"mainframe\",\n      \"properties\": {\n        \"id\": \"mainframe\",\n        \"name\": \"mainframe\",\n        \"width\": 412,\n        \"height\": 915,\n        \"left\": \"0\",\n        \"top\": \"0\",\n        \"visible\": true,\n        \"enable\": true\n      },\n      \"children\": [\n        {\n          \"id\": \"vfrs\",\n          \"type\": \"VFrameSet\",\n          \"path\": \"mainframe.vfrs\",\n          \"properties\": {\n            \"id\": \"vfrs\",\n            \"name\": \"vfrs\",\n            \"width\": 412,\n            \"height\": 915,\n            \"left\": null,\n            \"top\": null,\n            \"visible\": true,\n            \"enable\": true\n          },\n          \"children\": [\n            {\n              \"id\": \"frmLogin\",\n              \"type\": \"ChildFrame\",\n              \"path\": \"mainframe.vfrs.frmLogin\",\n              \"properties\": {\n                \"id\": \"frmLogin\",\n                \"name\": \"frmLogin\",\n                \"width\": 412,\n                \"height\": 915,\n                \"left\": 0,\n                \"top\": 0,\n                \"visible\": true,\n                \"enable\": true\n              },\n              \"children\": [],\n              \"form\": {\n                \"id\": \"form\",\n                \"type\": \"Form\",\n                \"path\": \"mainframe.vfrs.frmLogin.form\",\n                \"properties\": {\n                  \"id\": \"form\",\n                  \"name\": \"frmLogin\",\n                  \"width\": 412,\n                  \"height\": 915,\n                  \"left\": 0,\n                  \"top\": 0,\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"components\": []\n              }\n            },\n            {\n              \"id\": \"frmTop\",\n              \"type\": \"ChildFrame\",\n              \"path\": \"mainframe.vfrs.frmTop\",\n              \"properties\": {\n                \"id\": \"frmTop\",\n                \"name\": \"frmTop\",\n                \"width\": 412,\n                \"height\": 0,\n                \"left\": 0,\n                \"top\": 915,\n                \"visible\": true,\n                \"enable\": true\n              },\n              \"children\": [],\n              \"form\": {\n                \"id\": \"form\",\n                \"type\": \"Form\",\n                \"path\": \"mainframe.vfrs.frmTop.form\",\n                \"properties\": {\n                  \"id\": \"form\",\n                  \"name\": \"form\",\n                  \"width\": 412,\n                  \"height\": 0,\n                  \"left\": 0,\n                  \"top\": 0,\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"components\": []\n              }\n            },\n            {\n              \"id\": \"hfrs\",\n              \"type\": \"HFrameSet\",\n              \"path\": \"mainframe.vfrs.hfrs\",\n              \"properties\": {\n                \"id\": \"hfrs\",\n                \"name\": \"hfrs\",\n                \"width\": 412,\n                \"height\": 0,\n                \"left\": 0,\n                \"top\": 915,\n                \"visible\": true,\n                \"enable\": true\n              },\n              \"children\": [\n                {\n                  \"id\": \"frmLeft\",\n                  \"type\": \"ChildFrame\",\n                  \"path\": \"mainframe.vfrs.hfrs.frmLeft\",\n                  \"properties\": {\n                    \"id\": \"frmLeft\",\n                    \"name\": \"frmLeft\",\n                    \"width\": 0,\n                    \"height\": 0,\n                    \"left\": 0,\n                    \"top\": 0,\n                    \"visible\": true,\n                    \"enable\": true\n                  },\n                  \"children\": [],\n                  \"form\": {\n                    \"id\": \"form\",\n                    \"type\": \"Form\",\n                    \"path\": \"mainframe.vfrs.hfrs.frmLeft.form\",\n                    \"properties\": {\n                      \"id\": \"form\",\n                      \"name\": \"form\",\n                      \"width\": 0,\n                      \"height\": 0,\n                      \"left\": 0,\n                      \"top\": 0,\n                      \"visible\": true,\n                      \"enable\": true\n                    },\n                    \"components\": []\n                  }\n                },\n                {\n                  \"id\": \"vfrsWork\",\n                  \"type\": \"VFrameSet\",\n                  \"path\": \"mainframe.vfrs.hfrs.vfrsWork\",\n                  \"properties\": {\n                    \"id\": \"vfrsWork\",\n                    \"name\": \"vfrsWork\",\n                    \"width\": 412,\n                    \"height\": 0,\n                    \"left\": 0,\n                    \"top\": 0,\n                    \"visible\": true,\n                    \"enable\": true\n                  },\n                  \"children\": [\n                    {\n                      \"id\": \"frmMdi\",\n                      \"type\": \"ChildFrame\",\n                      \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frmMdi\",\n                      \"properties\": {\n                        \"id\": \"frmMdi\",\n                        \"name\": \"frmMdi\",\n                        \"width\": 412,\n                        \"height\": 0,\n                        \"left\": 0,\n                        \"top\": 0,\n                        \"visible\": true,\n                        \"enable\": true\n                      },\n                      \"children\": [],\n                      \"form\": {\n                        \"id\": \"form\",\n                        \"type\": \"Form\",\n                        \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frmMdi.form\",\n                        \"properties\": {\n                          \"id\": \"form\",\n                          \"name\": \"form\",\n                          \"width\": 412,\n                          \"height\": 0,\n                          \"left\": 0,\n                          \"top\": 0,\n                          \"visible\": true,\n                          \"enable\": true\n                        },\n                        \"components\": []\n                      }\n                    },\n                    {\n                      \"id\": \"frmMain\",\n                      \"type\": \"ChildFrame\",\n                      \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frmMain\",\n                      \"properties\": {\n                        \"id\": \"frmMain\",\n                        \"name\": \"frmMain\",\n                        \"width\": 412,\n                        \"height\": -42,\n                        \"left\": 0,\n                        \"top\": 0,\n                        \"visible\": true,\n                        \"enable\": true\n                      },\n                      \"children\": [],\n                      \"form\": {\n                        \"id\": \"form\",\n                        \"type\": \"Form\",\n                        \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frmMain.form\",\n                        \"properties\": {\n                          \"id\": \"form\",\n                          \"name\": \"form\",\n                          \"width\": 412,\n                          \"height\": 0,\n                          \"left\": 0,\n                          \"top\": 0,\n                          \"visible\": true,\n                          \"enable\": true\n                        },\n                        \"components\": []\n                      }\n                    },\n                    {\n                      \"id\": \"frsWork\",\n                      \"type\": \"FrameSet\",\n                      \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frsWork\",\n                      \"properties\": {\n                        \"id\": \"frsWork\",\n                        \"name\": \"frsWork\",\n                        \"width\": 412,\n                        \"height\": 0,\n                        \"left\": 0,\n                        \"top\": -42,\n                        \"visible\": true,\n                        \"enable\": true\n                      },\n                      \"children\": [],\n                      \"form\": null\n                    }\n                  ],\n                  \"form\": null\n                }\n              ],\n              \"form\": null\n            }\n          ],\n          \"form\": null\n        }\n      ],\n      \"form\": null\n    },\n    \"timestamp\": \"2025-09-22T13:11:03.824Z\"\n  },\n  \"analysis\": {\n    \"timestamp\": \"2025-09-22T13:11:03.822Z\",\n    \"mainFrame\": {\n      \"id\": \"mainframe\",\n      \"type\": \"MainFrame\",\n      \"properties\": {\n        \"id\": \"mainframe\",\n        \"name\": \"mainframe\",\n        \"text\": \"\",\n        \"width\": 412,\n        \"height\": 915,\n        \"left\": \"0\",\n        \"top\": \"0\",\n        \"visible\": true,\n        \"enable\": true\n      },\n      \"methods\": [],\n      \"events\": []\n    },\n    \"frames\": [\n      {\n        \"id\": \"frmLogin\",\n        \"type\": \"ChildFrame\",\n        \"parentPath\": \"mainframe.vfrs\",\n        \"currentPath\": \"mainframe.vfrs.frmLogin\",\n        \"properties\": {\n          \"id\": \"frmLogin\",\n          \"name\": \"frmLogin\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 915,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": []\n      },\n      {\n        \"id\": \"frmTop\",\n        \"type\": \"ChildFrame\",\n        \"parentPath\": \"mainframe.vfrs\",\n        \"currentPath\": \"mainframe.vfrs.frmTop\",\n        \"properties\": {\n          \"id\": \"frmTop\",\n          \"name\": \"frmTop\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 915,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": []\n      },\n      {\n        \"id\": \"frmLeft\",\n        \"type\": \"ChildFrame\",\n        \"parentPath\": \"mainframe.vfrs.hfrs\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.frmLeft\",\n        \"properties\": {\n          \"id\": \"frmLeft\",\n          \"name\": \"frmLeft\",\n          \"text\": \"\",\n          \"width\": 0,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": []\n      },\n      {\n        \"id\": \"frmMdi\",\n        \"type\": \"ChildFrame\",\n        \"parentPath\": \"mainframe.vfrs.hfrs.vfrsWork\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.vfrsWork.frmMdi\",\n        \"properties\": {\n          \"id\": \"frmMdi\",\n          \"name\": \"frmMdi\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": []\n      },\n      {\n        \"id\": \"frmMain\",\n        \"type\": \"ChildFrame\",\n        \"parentPath\": \"mainframe.vfrs.hfrs.vfrsWork\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.vfrsWork.frmMain\",\n        \"properties\": {\n          \"id\": \"frmMain\",\n          \"name\": \"frmMain\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": -42,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": []\n      },\n      {\n        \"id\": \"frsWork\",\n        \"type\": \"FrameSet\",\n        \"parentPath\": \"mainframe.vfrs.hfrs.vfrsWork\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.vfrsWork.frsWork\",\n        \"properties\": {\n          \"id\": \"frsWork\",\n          \"name\": \"frsWork\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": -42,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": []\n      },\n      {\n        \"id\": \"vfrsWork\",\n        \"type\": \"VFrameSet\",\n        \"parentPath\": \"mainframe.vfrs.hfrs\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.vfrsWork\",\n        \"properties\": {\n          \"id\": \"vfrsWork\",\n          \"name\": \"vfrsWork\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": [\n          {\n            \"id\": \"frmMdi\",\n            \"type\": \"ChildFrame\",\n            \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frmMdi\"\n          },\n          {\n            \"id\": \"frmMain\",\n            \"type\": \"ChildFrame\",\n            \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frmMain\"\n          },\n          {\n            \"id\": \"frsWork\",\n            \"type\": \"FrameSet\",\n            \"path\": \"mainframe.vfrs.hfrs.vfrsWork.frsWork\"\n          }\n        ]\n      },\n      {\n        \"id\": \"hfrs\",\n        \"type\": \"HFrameSet\",\n        \"parentPath\": \"mainframe.vfrs\",\n        \"currentPath\": \"mainframe.vfrs.hfrs\",\n        \"properties\": {\n          \"id\": \"hfrs\",\n          \"name\": \"hfrs\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 915,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": [\n          {\n            \"id\": \"frmLeft\",\n            \"type\": \"ChildFrame\",\n            \"path\": \"mainframe.vfrs.hfrs.frmLeft\"\n          },\n          {\n            \"id\": \"vfrsWork\",\n            \"type\": \"VFrameSet\",\n            \"path\": \"mainframe.vfrs.hfrs.vfrsWork\"\n          }\n        ]\n      },\n      {\n        \"id\": \"vfrs\",\n        \"type\": \"VFrameSet\",\n        \"parentPath\": \"mainframe\",\n        \"currentPath\": \"mainframe.vfrs\",\n        \"properties\": {\n          \"id\": \"vfrs\",\n          \"name\": \"vfrs\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 915,\n          \"left\": null,\n          \"top\": null,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": [\n          {\n            \"id\": \"frmLogin\",\n            \"type\": \"ChildFrame\",\n            \"path\": \"mainframe.vfrs.frmLogin\"\n          },\n          {\n            \"id\": \"frmTop\",\n            \"type\": \"ChildFrame\",\n            \"path\": \"mainframe.vfrs.frmTop\"\n          },\n          {\n            \"id\": \"hfrs\",\n            \"type\": \"HFrameSet\",\n            \"path\": \"mainframe.vfrs.hfrs\"\n          }\n        ]\n      },\n      {\n        \"id\": \"mainframe\",\n        \"type\": \"MainFrame\",\n        \"parentPath\": \"mainframe\",\n        \"currentPath\": \"mainframe\",\n        \"properties\": {\n          \"id\": \"mainframe\",\n          \"name\": \"mainframe\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 915,\n          \"left\": \"0\",\n          \"top\": \"0\",\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"children\": [\n          {\n            \"id\": \"vfrs\",\n            \"type\": \"VFrameSet\",\n            \"path\": \"mainframe.vfrs\"\n          }\n        ]\n      }\n    ],\n    \"components\": [\n      {\n        \"id\": \"form\",\n        \"type\": \"Form\",\n        \"parentPath\": \"mainframe.vfrs.frmLogin\",\n        \"currentPath\": \"mainframe.vfrs.frmLogin.form\",\n        \"properties\": {\n          \"id\": \"form\",\n          \"name\": \"frmLogin\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 915,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"components\": [\n          {\n            \"id\": \"sta00\",\n            \"type\": \"Unknown\",\n            \"parentPath\": \"mainframe.vfrs.frmLogin.form\",\n            \"currentPath\": \"mainframe.vfrs.frmLogin.form.sta00\",\n            \"properties\": {\n              \"id\": \"sta00\",\n              \"name\": \"sta00\",\n              \"text\": \"\",\n              \"width\": null,\n              \"height\": null,\n              \"left\": \"0\",\n              \"top\": \"0\",\n              \"visible\": true,\n              \"enable\": true\n            },\n            \"methods\": [],\n            \"events\": []\n          },\n          {\n            \"id\": \"divLogin\",\n            \"type\": \"Unknown\",\n            \"parentPath\": \"mainframe.vfrs.frmLogin.form\",\n            \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n            \"properties\": {\n              \"id\": \"divLogin\",\n              \"name\": \"divLogin\",\n              \"text\": \"\",\n              \"width\": \"400\",\n              \"height\": \"500\",\n              \"left\": 6,\n              \"top\": 207.5,\n              \"visible\": true,\n              \"enable\": true\n            },\n            \"methods\": [],\n            \"events\": [],\n            \"children\": [\n              {\n                \"id\": \"staUserId\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.staUserId\",\n                \"properties\": {\n                  \"id\": \"staUserId\",\n                  \"name\": \"staUserId\",\n                  \"text\": \"\",\n                  \"width\": null,\n                  \"height\": \"40\",\n                  \"left\": \"70\",\n                  \"top\": \"160\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"staPassword\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.staPassword\",\n                \"properties\": {\n                  \"id\": \"staPassword\",\n                  \"name\": \"staPassword\",\n                  \"text\": \"\",\n                  \"width\": null,\n                  \"height\": \"40\",\n                  \"left\": \"70\",\n                  \"top\": \"232\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"Static00\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.Static00\",\n                \"properties\": {\n                  \"id\": \"Static00\",\n                  \"name\": \"Static00\",\n                  \"text\": \"\",\n                  \"width\": null,\n                  \"height\": \"98\",\n                  \"left\": \"70\",\n                  \"top\": \"28\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"sta01\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.sta01\",\n                \"properties\": {\n                  \"id\": \"sta01\",\n                  \"name\": \"sta01\",\n                  \"text\": \"User ID\",\n                  \"width\": \"42\",\n                  \"height\": \"15\",\n                  \"left\": \"71\",\n                  \"top\": \"145\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"edtUserId\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.edtUserId\",\n                \"properties\": {\n                  \"id\": \"edtUserId\",\n                  \"name\": \"edtUserId\",\n                  \"text\": \"\",\n                  \"width\": \"210\",\n                  \"height\": \"40\",\n                  \"left\": \"105\",\n                  \"top\": \"160\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"sta01_00\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.sta01_00\",\n                \"properties\": {\n                  \"id\": \"sta01_00\",\n                  \"name\": \"sta01_00\",\n                  \"text\": \"Password\",\n                  \"width\": \"51\",\n                  \"height\": \"15\",\n                  \"left\": \"71\",\n                  \"top\": \"217\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"edtPassword\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.edtPassword\",\n                \"properties\": {\n                  \"id\": \"edtPassword\",\n                  \"name\": \"edtPassword\",\n                  \"text\": \"\",\n                  \"width\": \"210\",\n                  \"height\": \"40\",\n                  \"left\": \"105\",\n                  \"top\": \"232\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"chkSaveId\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.chkSaveId\",\n                \"properties\": {\n                  \"id\": \"chkSaveId\",\n                  \"name\": \"chkSaveId\",\n                  \"text\": \"아이디저장\",\n                  \"value\": \"false\",\n                  \"width\": \"81\",\n                  \"height\": \"30\",\n                  \"left\": null,\n                  \"top\": \"286\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"btn00\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.btn00\",\n                \"properties\": {\n                  \"id\": \"btn00\",\n                  \"name\": \"btn00\",\n                  \"text\": \"비밀번호 변경\",\n                  \"width\": \"70\",\n                  \"height\": \"30\",\n                  \"left\": null,\n                  \"top\": \"286\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"btnLogin\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.btnLogin\",\n                \"properties\": {\n                  \"id\": \"btnLogin\",\n                  \"name\": \"btnLogin\",\n                  \"text\": \"시작하기\",\n                  \"width\": \"260\",\n                  \"height\": \"48\",\n                  \"left\": null,\n                  \"top\": null,\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              },\n              {\n                \"id\": \"sta00\",\n                \"type\": \"Unknown\",\n                \"parentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form\",\n                \"currentPath\": \"mainframe.vfrs.frmLogin.form.divLogin.form.sta00\",\n                \"properties\": {\n                  \"id\": \"sta00\",\n                  \"name\": \"sta00\",\n                  \"text\": \"\",\n                  \"width\": \"1\",\n                  \"height\": \"13\",\n                  \"left\": null,\n                  \"top\": \"295\",\n                  \"visible\": true,\n                  \"enable\": true\n                },\n                \"methods\": [],\n                \"events\": []\n              }\n            ]\n          },\n          {\n            \"id\": \"usr_prompt\",\n            \"type\": \"Unknown\",\n            \"parentPath\": \"mainframe.vfrs.frmLogin.form\",\n            \"currentPath\": \"mainframe.vfrs.frmLogin.form.usr_prompt\",\n            \"properties\": {\n              \"id\": \"usr_prompt\",\n              \"name\": \"usr_prompt\",\n              \"text\": \"\",\n              \"width\": \"300\",\n              \"height\": null,\n              \"left\": 6,\n              \"top\": \"60\",\n              \"visible\": true,\n              \"enable\": true\n            },\n            \"methods\": [],\n            \"events\": []\n          },\n          {\n            \"id\": \"btn00\",\n            \"type\": \"Unknown\",\n            \"parentPath\": \"mainframe.vfrs.frmLogin.form\",\n            \"currentPath\": \"mainframe.vfrs.frmLogin.form.btn00\",\n            \"properties\": {\n              \"id\": \"btn00\",\n              \"name\": \"btn00\",\n              \"text\": \"Prompt\",\n              \"width\": \"70\",\n              \"height\": null,\n              \"left\": 316,\n              \"top\": \"60\",\n              \"visible\": true,\n              \"enable\": true\n            },\n            \"methods\": [],\n            \"events\": []\n          },\n          {\n            \"id\": \"btn01\",\n            \"type\": \"Unknown\",\n            \"parentPath\": \"mainframe.vfrs.frmLogin.form\",\n            \"currentPath\": \"mainframe.vfrs.frmLogin.form.btn01\",\n            \"properties\": {\n              \"id\": \"btn01\",\n              \"name\": \"btn01\",\n              \"text\": \"O\",\n              \"width\": \"35\",\n              \"height\": \"30\",\n              \"left\": \"0\",\n              \"top\": \"20\",\n              \"visible\": true,\n              \"enable\": true\n            },\n            \"methods\": [],\n            \"events\": []\n          },\n          {\n            \"id\": \"item0\",\n            \"type\": \"Unknown\",\n            \"parentPath\": \"mainframe.vfrs.frmLogin.form\",\n            \"currentPath\": \"mainframe.vfrs.frmLogin.form.item0\",\n            \"properties\": {\n              \"id\": \"item0\",\n              \"name\": \"item0\"\n            },\n            \"methods\": [],\n            \"events\": []\n          },\n          {\n            \"id\": \"item1\",\n            \"type\": \"Unknown\",\n            \"parentPath\": \"mainframe.vfrs.frmLogin.form\",\n            \"currentPath\": \"mainframe.vfrs.frmLogin.form.item1\",\n            \"properties\": {\n              \"id\": \"item1\",\n              \"name\": \"item1\"\n            },\n            \"methods\": [],\n            \"events\": []\n          }\n        ]\n      },\n      {\n        \"id\": \"form\",\n        \"type\": \"Form\",\n        \"parentPath\": \"mainframe.vfrs.frmTop\",\n        \"currentPath\": \"mainframe.vfrs.frmTop.form\",\n        \"properties\": {\n          \"id\": \"form\",\n          \"name\": \"form\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"components\": []\n      },\n      {\n        \"id\": \"form\",\n        \"type\": \"Form\",\n        \"parentPath\": \"mainframe.vfrs.hfrs.frmLeft\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.frmLeft.form\",\n        \"properties\": {\n          \"id\": \"form\",\n          \"name\": \"form\",\n          \"text\": \"\",\n          \"width\": 0,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"components\": []\n      },\n      {\n        \"id\": \"form\",\n        \"type\": \"Form\",\n        \"parentPath\": \"mainframe.vfrs.hfrs.vfrsWork.frmMdi\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.vfrsWork.frmMdi.form\",\n        \"properties\": {\n          \"id\": \"form\",\n          \"name\": \"form\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"components\": []\n      },\n      {\n        \"id\": \"form\",\n        \"type\": \"Form\",\n        \"parentPath\": \"mainframe.vfrs.hfrs.vfrsWork.frmMain\",\n        \"currentPath\": \"mainframe.vfrs.hfrs.vfrsWork.frmMain.form\",\n        \"properties\": {\n          \"id\": \"form\",\n          \"name\": \"form\",\n          \"text\": \"\",\n          \"width\": 412,\n          \"height\": 0,\n          \"left\": 0,\n          \"top\": 0,\n          \"visible\": true,\n          \"enable\": true\n        },\n        \"methods\": [],\n        \"events\": [],\n        \"components\": []\n      }\n    ],\n    \"summary\": {\n      \"totalFrames\": 10,\n      \"totalComponents\": 7,\n      \"frameTypes\": {\n        \"ChildFrame\": 5,\n        \"FrameSet\": 1,\n        \"VFrameSet\": 2,\n        \"HFrameSet\": 1,\n        \"MainFrame\": 1\n      },\n      \"componentTypes\": {\n        \"Unknown\": 7\n      }\n    }\n  },\n  \"hierarchy\": {\n    \"mainFrame\": {\n      \"path\": \"mainframe\",\n      \"accessMethod\": \"nexacro.getApplication().mainframe\",\n      \"description\": \"애플리케이션의 기본 화면을 구성하는 최상단 Frame\"\n    },\n    \"frameTypes\": {\n      \"FrameSet\": {\n        \"description\": \"자유롭게 하위 Frame을 배열할 수 있는 Frame\",\n        \"accessMethod\": \"parent.all[index] 또는 parent.all.find(item => item.id === \\\"frameId\\\")\"\n      },\n      \"HFrameSet\": {\n        \"description\": \"수평 방향으로 하위 Frame을 자동 배열하는 Frame\",\n        \"accessMethod\": \"parent.all[index] 또는 parent.all.find(item => item.id === \\\"frameId\\\")\"\n      },\n      \"VFrameSet\": {\n        \"description\": \"수직 방향으로 하위 Frame을 자동 배열하는 Frame\",\n        \"accessMethod\": \"parent.all[index] 또는 parent.all.find(item => item.id === \\\"frameId\\\")\"\n      },\n      \"TileFrameSet\": {\n        \"description\": \"수평/수직 방향으로 하위 Frame을 자동 배열하는 Frame\",\n        \"accessMethod\": \"parent.all[index] 또는 parent.all.find(item => item.id === \\\"frameId\\\")\"\n      },\n      \"ChildFrame\": {\n        \"description\": \"Form을 로딩하여 보여주는 Frame\",\n        \"accessMethod\": \"parent.all[index] 또는 parent.all.find(item => item.id === \\\"frameId\\\")\"\n      }\n    },\n    \"componentAccess\": {\n      \"description\": \"Component는 parent.form.child 형식의 계층 구조로 접근 가능\",\n      \"example\": \"nexacro.getApplication().mainframe.frameset1.form.button1\"\n    }\n  }\n}";

        // 화면 정보 설정
        aqh.setCurrentViewInfo(uiInfo);
        
        // 화면 정보가 제대로 저장되었는지 확인
        assertTrue(aqh.isCurrentViewInfo(), "화면 정보가 저장되어야 합니다");
        
        // 변경 감지 확인
        assertTrue(aqh.isViewInfoChanged(), "새로운 화면 정보이므로 변경 감지되어야 합니다");
        
        // 프롬프트 생성 확인
        String prompt = aqh.getCurViewPrompt();
        assertNotNull(prompt, "프롬프트가 생성되어야 합니다");
        assertFalse(prompt.isEmpty(), "프롬프트가 비어있지 않아야 합니다");
    }
}
